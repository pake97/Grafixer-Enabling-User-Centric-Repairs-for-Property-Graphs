constraints|pattern|text|repairs|queries
MATCH (a:Character)-[p:PILOT {deleted:false}]->(b:Starship)-[r:APPEARED_IN {deleted:false}] ->(c:Film) WHERE not (a)-[:APPEARED_IN {deleted:false}]->(c) Return [id(a),id(b),id(c)] as node_ids, [id(r),id(p)] as rel_ids, 'a,b,c' as node_labels, 'p,r' as rel_labels|MATCH (a:Character)-[p:PILOT]->(b:Starship)-[r:APPEARED_IN] ->(c:Film) WHERE not (a)-[:APPEARED_IN]->(c) Return *| A Character that pilots a Starship that appeared in a film should have appeared in that film| Delete edge PILOT, Delete edge APPEARED_IN| MATCH (:Character)-[p:PILOT ]->(:Starship) WHERE id(p) = $PILOT set p.deleted=true;MATCH (:Starship)-[r:APPEARED_IN ]->(:Film) WHERE id(r) = $APPEARED_IN SET r.deleted=true;
MATCH (a:Character)-[p:PILOT {deleted:false}]->(b:Vehicle)-[r:APPEARED_IN {deleted:false}] ->(c:Film) WHERE not (a)-[:APPEARED_IN {deleted:false}]->(c) Return [id(a),id(b),id(c)] as node_ids, [id(r),id(p)] as rel_ids, 'a,b,c' as node_labels, 'p,r' as rel_labels|MATCH (a:Character)-[p:PILOT]->(b:Vehicle)-[r:APPEARED_IN] ->(c:Film) WHERE not (a)-[:APPEARED_IN]->(c) Return *| A Character that pilots a Vehicle that appeared in a film should have appeared in that film| Delete edge PILOT, Delete edge APPEARED_IN| MATCH (:Character)-[p:PILOT ]->(:Starship) WHERE id(p) = $PILOT p.deleted=true;MATCH (:Starship)-[r:APPEARED_IN ]->(:Film) WHERE id(r) = $APPEARED_IN SET 3.deleted=true;
MATCH (a:Species)<-[p:OF {deleted:false}]-(b:Character)-[r:PILOT {deleted:false}]->(c:Starship) WHERE a.average_height>c.height Return [id(a),id(b),id(c)] as node_ids, [id(r),id(p)] as rel_ids, 'a,b,c' as node_labels, 'p,r' as rel_labels|MATCH (a:Species)<-[p:OF]-(b:Character)-[r:PILOT]->(c:Starship) WHERE a.average_height>c.height Return *| A Character that pilots a Starship should be of a species with an average height smaller than the Starshipâ€™s height| Delete edge OF, Delete edge PILOT, Update average_height of species, update height of Starship| MATCH (:Species)<-[p:OF ]-(:Character) WHERE id(p) = $OF SET p.deleted=true; MATCH (:Character)-[r:PILOT ]->(:Starship) WHERE id(r) = $PILOT r.deleted=true;MATCH (s:Species) WHERE id(s) = $SPECIES SET s.average_height = $average_height; MATCH (ss:Starship) WHERE id(ss) = $STARSHIP SET ss.height = $height;




